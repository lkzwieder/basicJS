var $b;!function(n,e){var t=function(n,e){var t={},r={},o={},a=function(n,e){var t={},r=[],o=[];e=e||{};var a=function(n,e,t,o){l.isEmptyArray(t)||t.forEach(function(n){r.indexOf(n)>-1&&t.slice(t.indexOf(n),1)}),l.isEmptyArray(t)?c(n,e,o):i(n,e,t,o)},i=function(n,e,r,o){t[e]||(t[e]={},t[e].url=n,t[e].pos=o,t[e].deps=r)},u=function(n){for(var e in t)if(t.hasOwnProperty(e)){var r=t[e],o=r.deps.indexOf(n);o>-1&&(t[e].deps.splice(o,1),t[e].deps.length||c(r.url,e,r.pos))}},c=function(n,e,t){var a={};a.name=e,a.url=n,a.pos=t,o.push(a),-1==r.indexOf(e)&&r.push(e),u(e)},s=0;return n.forEach(function(n){var t=n,r=[];e[n]&&(t=e[n].url||t,r=e[n].deps||r),a(t,n,r,s),s+=1}),l.isEmptyObject(t)||r.forEach(function(n){u(n)}),o},i=function(n){n=n||{verbose:!1,processOnFail:!1};var e,t,r=[],o=[],a=null,i=function(i,u,c){a--,i?r[c]=u[0]:(o[c]=u[0],n.processOnFail||(a=!1,r=[]),n.verbose&&console.log("The argument in the position number: "+c+" has failed")),a||(o.length&&(o=Array.prototype.slice.call(o),t.apply(null,o)),r.length&&(r=Array.prototype.slice.call(r),e.apply(null,r)))},u=function(n,e){e=Array.prototype.slice.call(e),n.apply(null,e)},c=function(n){return e=n,this},s=function(n){return e=n,this},l=function(n){return t=n,this};return{when:function(){for(var n=a=arguments.length;n--;)arguments[n].self.pos=n,arguments[n].self.resolve=function(){i(!0,arguments,this.pos)},arguments[n].self.reject=function(){i(!1,arguments,this.pos)};return{then:s,fail:l,done:c}},resolve:function(){u(e,arguments)},reject:function(){u(t,arguments)},promise:function(){return{done:c,fail:l,self:this}}}},u=function(o,u){var c=function(){var e=n.createElement("script");return e.type="text/javascript",e.charset="utf-8",e.async=!0,e},s=function(n,e){var t=new i,o=new XMLHttpRequest;return 0===e.indexOf("!")&&(e=e.substring(1,e.length)),o.onreadystatechange=function(){4==o.readyState&&200==o.status?(r[n]||(r[n]=o.responseText),t.resolve()):4==o.readyState&&200!=o.status&&t.reject("Error: "+e+" could not be loaded")},o.open("GET",e,!0),o.send(null),t.promise()},f=function(t,r){var o=new i,a=c();a.src=r;var u=l.shallowClone(e);return a.addEventListener("load",function(n){var r=n.currentTarget,a=h(u,e,t);l.isEmptyArray(a)||a.forEach(function(n){delete e[n]}),o.resolve(),r.parentNode.removeChild(r)}),a.addEventListener("error",function(n){var e=n.currentTarget;e.parentNode.removeChild(e),o.reject("Error: "+t+" could not be loaded")}),n.getElementsByTagName("head")[0].appendChild(a),o.promise()},p=function(n,e){return 0===n.indexOf("!")?s(n,e):f(n,e)},h=function(n,e,t){var o=[];e=l.shallowClone(e);for(var a in e)n[a]||r[t]||(r[t]=e[a],o.push(a));return o},v=[];if(l.isEmptyArray(o))u();else{var d=new a(o,t);d.forEach(function(n){l.inObject(n.name,r)||v.push(p(n.name,n.url))}),(new i).when.apply(null,v).then(function(){var n=[];o.forEach(function(e){n.push(r[e])}),u&&u.apply(null,n)}).fail(function(n){console.log(n)})}},c=function(n,e){return function(){u(n,e)}},s=function(n){t=n},l={isArray:function(n){return"[object Array]"==Object.prototype.toString.call(n)},isObject:function(n){return"[object Object]"==Object.prototype.toString.call(n)},isString:function(n){return"[object String]"==Object.prototype.toString.call(n)},isNumber:function(n){return"[object Number]"==Object.prototype.toString.call(n)},isFunction:function(n){return"[object Function]"==Object.prototype.toString.call(n)},isEmptyObject:function(n){return!Object.keys(n).length},isEmptyArray:function(n){return!n.length},objectLen:function(n){return Object.keys(n).length},inObject:function(n,e){var t=!1;for(var r in e)if(e.hasOwnProperty(r)){r==n&&(t=!0);break}return t},mergeObjects:function(){var n=Array.prototype.slice.call(arguments),e={};return n.forEach(function(n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])}),e},shallowClone:function(n){var e={};for(var t in n)e[t]=n[t];return e},deepClone:function(n){return JSON.parse(JSON.stringify(n))},anotherClone:function(n){return new Object(n)}},f=function(){var n=e.location.pathname,t=function(n,e){var t={};t[n]=e,history.pushState(t,n,e)},r=function(n,e){var t={};t[n]=e,history.replaceState(t,n,e)},a=function(n){o=l.mergeObjects(o,n)},i=function(n){delete o[n]},u=function(){o={}},c=function(){var e=!1;for(var t in o)if(o[t].params&&!l.isEmptyObject(o[t].params)){var r=t;for(var a in o[t].params)r=r.replace(a,"("+o[t].params[a]+")");var i=new RegExp("^"+r+"$"),u=n.match(i);if(u){for(var c=l.objectLen(o[t].params),s=[],f=1;c>=f;f++)s.push(u[f]);if(!l.isEmptyArray(u)){o[t].controller.apply(this,s),e=!0;break}}}e||o["default"].controller()};return setInterval(function(){var t=e.location.pathname;if(n!=t){var r=new Event("urlChange");n=e.location.pathname,e.dispatchEvent(r)}},50),e.addEventListener("urlChange",function(){c()}),{run:c,change:t,replace:r,addRoutes:a,delRoutes:i,flushRoutes:u}}();return{DependencyManager:a,Deferred:i,req:u,def:c,setConfig:s,Router:f,utils:l}};$b=new t(n,e);for(var r,o=n.getElementsByTagName("script"),a=o.length,i=a;i--;)if(r=o[i].getAttribute("data-main")){$b.req([r]);break}}(document,window);